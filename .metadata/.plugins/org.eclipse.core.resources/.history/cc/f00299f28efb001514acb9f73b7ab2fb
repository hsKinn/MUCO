package com.ktds.muco.table.qna.biz;

import java.util.List;

import com.ktds.muco.table.pack.vo.PackListVO;
import com.ktds.muco.table.pack.vo.PackVO;
import com.ktds.muco.table.qna.vo.QNAListVO;
import com.ktds.muco.table.qna.vo.QNASearchVO;
import com.ktds.muco.util.web.Paging;

/**
 * 
 * @author 김광민
 *
 */
public class QNABiz {

	/**
	 * @author 이기연
	 * @param qnaSearchVO
	 * @param sortOption
	 * @return
	 */
	public QNAListVO getQnaList(QNASearchVO qnaSearchVO, int sortOption) {
		// 1. 전체 게시글의 수
				int allPackCount = packDAO.getPackListCount();
				// 1-1. 기본으로 페이지를 만들어준다. 
				Paging paging = new Paging(20);
				paging.setTotalArticleCount(allPackCount);
				// 1-2. page 가져올 때 계산 쉽게 하기 위해서 page number은 0부터 시작 
				paging.setPageNumber(packSearchVO.getPageNO()+"");
				
				packSearchVO.setStartIndex(paging.getStartArticleNumber());
				packSearchVO.setEndIndex(paging.getEndArticleNumber());
				
				//전체 article 받아오기
				List<PackVO> packs = packDAO.getAllPackage(packSearchVO, sortOption);
				
				// 2. DAO로부터 받아온 결과를 출력
				PackListVO packList = new PackListVO();
				packList.setPackList(packs);
				// 2-2. 페이지 추가 
				packList.setPaging(paging);
				
				return packList;	
	}

}
