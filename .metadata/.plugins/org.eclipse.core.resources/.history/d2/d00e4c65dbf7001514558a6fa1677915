<?xml version="1.0" encoding="UTF-8"?>
<query>

	<country>
		<getCountryInfoByCountryName>
			SELECT	COUNTRY_ID
					, COUNTRY_NAME
			FROM	COUNTRY
			WHERE	COUNTRY_NAME = ?
		</getCountryInfoByCountryName>
	</country>
	
	<evaluation>
	</evaluation>
	
	<history>
	</history>
	
	<image>
		<insertImage>
			INSERT	INTO	IMAGE	( 
										IMAGE_ID
										, PLACE_ID
										, IMAGE_NAME
										, IMAGE_LOCATION
									)
			VALUES 					(
										IMAGE_ID_SEQ.NEXTVAL
										, ?
										, ?
										, ?
									)
		</insertImage>
	</image>
	
	<member>
		<addNewMember>
			INSERT INTO MEMBER (
	                      			EMAIL
	                       		 	, PASSWORD
	                       			, NAME
	                   			) 
			VALUES              ( 
	                        		?,
	                        		?,
	                        		?
	                     		)
     	</addNewMember>
     	<getMemberByIdAndPassword>
     		SELECT	*
     		FROM	MEMBER
     		WHERE	EMAIL = ?
     		AND		PASSWORD = ?
     	</getMemberByIdAndPassword>
     	<updateName>
     		UPDATE	MEMBER
     		SET		NAME = ?
     		WHERE	EMAIL = ?
     	</updateName>
     	<updatePhoneNumber>
     		UPDATE	MEMBER
     		SET		PHONE_NUMBER = ?
     		WHERE	EMAIL = ?     	
     	</updatePhoneNumber>
     	<updatePassword>
     		UPDATE	MEMBER
     		SET		PASSWORD = ?
     		WHERE	EMAIL = ?       	
     	</updatePassword>
     	<isExistName>
     		SELECT	COUNT(NAME) AS COUNT
     		FROM	MEMBER
     		WHERE	NAME = ?
     	</isExistName>
     	<addMainImage>
     		UPDATE	MEMBER 
     		SET		MAIN_IMAGE_NAME = ?
     				, MAIN_IMAGE_LOCATION = ?
     		WHERE	EMAIL = ?
     	</addMainImage>
	</member>
	
	<pack>
		<getPackListByEmail>
			SELECT  *
			FROM    PACK
			WHERE   EMAIL = ?
		</getPackListByEmail>
		<getPackDataByPackId>
			SELECT  *
			FROM    PACK
			WHERE   PACK_ID = ?
		</getPackDataByPackId>
		<addPack>
			INSERT INTO PACK (
			                            PACK_ID
			                            , SHARE_IMAGE_NAME
			                            , PACK_TITLE
			                            , EMAIL
			                            , SHARE_IMAGE_LOCATION
			                        ) 
				VALUES              ( PACK_ID_SEQ.NEXTVAL
			                          ,0
			                          ,?
			                          ,?
			                          ,0
			                          )
		</addPack>
		<getLatesPackId>
			SELECT	PACK_ID_SEQ.CURRVAL
			FROM	PACK
		</getLatesPackId>
		<uploadPackImgFile>
			UPDATE PACK
			SET    SHARE_IMAGE_NAME     = ?
			       , SHARE_IMAGE_LOCATION = ?
			WHERE  PACK_ID              = ?
		</uploadPackImgFile>
		<deletePack>
			DELETE	
			FROM	PACK
			WHERE	PACK_ID=?
		</deletePack>
		<getPlaceListByPackId>
			SELECT  *
			FROM    PACK_PLACE
			WHERE   PACK_ID = ?
		</getPlaceListByPackId>
	</pack>
	
	<packLike>
	</packLike>
	
	<packReply>
	</packReply>
	
	<place>
		<placeInfoRecommendedList>
		</placeInfoRecommendedList>
		<insertPlaceInfo>
			INSERT	INTO	PLACE	(
											PLACE_ID
											, PLACE_NAME
											, ADDRESS
											, LATITUDE
											, LONGITUDE
											, DESCRIPTION
										)
			VALUES						(
											PLACE_ID_SEQ.NEXTVAL
											, ?
											, ?
											, ?
											, ?
											, ?
										)
		</insertPlaceInfo>
		<getReturnPlaceId>
			SELECT	PLACE_ID_SEQ.CURRVAL
			FROM	DUAL
		</getReturnPlaceId>
		<getAllOriginPlaceCount>
			SELECT	COUNT(PLACE_ID)
			FROM	PLACE
			WHERE	IS_NEW_PLACE != 1		
		</getAllOriginPlaceCount>
		<getAllOriginPlaces>
			SELECT	* 
			FROM	(
						SELECT	ROWNUM AS RNUM
								, A.*
						FROM	(
									SELECT  *
									FROM    PLACE
									WHERE	IS_NEW_PLACE != 1
									ORDER   BY PLACE_ID ASC
								) A 
						WHERE	ROWNUM &lt;= ?	
					)	
			WHERE	RNUM >= ?			
		</getAllOriginPlaces>
		<getAllNewPlaceCount>
		</getAllNewPlaceCount>
		<getAllNewPlaces>
			SELECT	* 
			FROM	(
						SELECT	ROWNUM AS RNUM
								, A.*
						FROM	(
									SELECT  *
									FROM    PLACE
									WHERE	IS_NEW_PLACE = 1
									ORDER   BY PLACE_ID ASC
								) A 
						WHERE	ROWNUM &lt;= ?	
					)	
			WHERE	RNUM >= ?			
		</getAllNewPlaces>
		<getPlaceDetailByPlaceId>
			SELECT	*
			FROM	PLACE
			WHERE	PLACE_ID = ?
		</getPlaceDetailByPlaceId>
	</place>
	
	<placeLike>
	</placeLike>
	
	<placeReply>
	</placeReply>
	
	<qna>
	</qna>
	
	<rent>
	</rent>
	
	<reportedPlace>
	</reportedPlace>
	
	<reserve>
	</reserve>
	
	<selectedCountry>
	</selectedCountry>
	
	<standard>
	</standard>
	
	<stay>
	</stay>
	
	<transport>
	</transport>
	
</query>

