<?xml version="1.0" encoding="UTF-8"?>
<query>

	<country>
		<getCountryInfoByCountryName>
			SELECT	COUNTRY_ID
					, COUNTRY_NAME
			FROM	COUNTRY
			WHERE	COUNTRY_NAME = ?
		</getCountryInfoByCountryName>
	</country>
	
	<evaluation>
		
		<setVoteScore>
			INSERT INTO	EVALUATION (
									EVALUATION_ID
									, SCORE
									, PLACE_ID
									, STANDARD_ID
									, EMAIL				
								   )
			VALUES				   (
									EVALUATION_ID_SEQ.NEXTVAL
									, ?
									, ?
									, ?
									, ?
								   )
		</setVoteScore>
		
		<isExistVote>
			SELECT	COUNT(EVALUATION_ID)
			FROM	EVALUATION
			WHERE	PLACE_ID = ?
			AND		EMAIL = ?
		</isExistVote>		
	
	</evaluation>
	
	<history>
		<addHistory>
			INSERT INTO TRAVERY.HISTORY (
			                                HISTORY_ID
			                                , IP
			                                , CRT_DT
			                                , URL
			                                , ACTION_CODE
			                                , DESCRIPTION
			                                , ETC
			                                , EMAIL
			                            ) 
			VALUES                      (
			                                HISTORY_ID_SEQ.NEXTVAL
			                                , ?
			                                , SYSDATE
			                                , ?
			                                , ?
			                                , ?
			                                , ?
			                                , ?
			                            )
		</addHistory>	
	</history>
	
	<image>
		<insertImage>
			INSERT	INTO	IMAGE	( 
										IMAGE_ID
										, PLACE_ID
										, IMAGE_NAME
										, IMAGE_LOCATION
										, EMAIL
										, CRT_DT
									)
			VALUES 					(
										IMAGE_ID_SEQ.NEXTVAL
										, ?
										, ?
										, ?
										, ?
										, SYSDATE
									)
		</insertImage>
		<getReturnImageId>
			SELECT	IMAGE_ID_SEQ.CURRVAL
			FROM	DUAL
		</getReturnImageId>
		
		<getImageList>
			SELECT  IMAGE_LOCATION
					, IMAGE_NAME
            FROM    IMAGE
            WHERE   PLACE_ID = ?
		</getImageList>

		<getImageVOListByPlaceId>
		SELECT  *
		FROM    IMAGE
		WHERE   PLACE_ID= ? 
		AND		ROWNUM = 1
		</getImageVOListByPlaceId>

		<getPlaceMainImageByPlaceId>
			SELECT	IMAGE_NAME
			FROM 	IMAGE
			WHERE 	PLACE_ID = ?
		</getPlaceMainImageByPlaceId>

	</image>
	
	<member>
		<addNewMember>
			INSERT INTO MEMBER (
	                      			EMAIL
	                       		 	, PASSWORD
	                       			, NAME
	                   			) 
			VALUES              ( 
	                        		?,
	                        		?,
	                        		?
	                     		)
     	</addNewMember>
     	<getMemberEmailCheck>
     		SELECT	COUNT(EMAIL)
			FROM	MEMBER
			WHERE	EMAIL = ?
     	</getMemberEmailCheck>
     	<getMemberByIdAndPassword>
     		SELECT	*
     		FROM	MEMBER
     		WHERE	EMAIL = ?
     		AND		PASSWORD = ?
     	</getMemberByIdAndPassword>
     	<updateName>
     		UPDATE	MEMBER
     		SET		NAME = ?
     		WHERE	EMAIL = ?
     	</updateName>
     	<updatePhoneNumber>
     		UPDATE	MEMBER
     		SET		PHONE_NUMBER = ?
     		WHERE	EMAIL = ?     	
     	</updatePhoneNumber>
     	<updatePassword>
     		UPDATE	MEMBER
     		SET		PASSWORD = ?
     		WHERE	EMAIL = ?       	
     	</updatePassword>
     	<isExistName>
     		SELECT	COUNT(NAME) AS COUNT
     		FROM	MEMBER
     		WHERE	NAME = ?
     	</isExistName>
     	<addMainImage>
     		UPDATE	MEMBER 
     		SET		MAIN_IMAGE_NAME = ?
     				, MAIN_IMAGE_LOCATION = ?
     		WHERE	EMAIL = ?
     	</addMainImage>
     	
     	<updateMileage>
     		UPDATE	MEMBER
     		SET		MILEAGE = MILEAGE + ?
     		WHERE	EMAIL = ?
     	</updateMileage>
     	
	</member>
	
	<pack>
		<getPackListByEmail>
			SELECT  *
			FROM    PACK
			WHERE   EMAIL = ?
		</getPackListByEmail>
		<getPackDataByPackId>
			SELECT  *
			FROM    PACK
			WHERE   PACK_ID = ?
		</getPackDataByPackId>
		<addPack>
			INSERT INTO PACK (
			                            PACK_ID
			                            , SHARE_IMAGE_NAME
			                            , PACK_TITLE
			                            , EMAIL
			                            , SHARE_IMAGE_LOCATION
			                            , IS_PUBLIC
			                        ) 
				VALUES              ( PACK_ID_SEQ.NEXTVAL
			                          ,0
			                          ,?
			                          ,?
			                          ,0
			                          ,?
			                          )
		</addPack>
		<getLatesPackId>
			SELECT	PACK_ID_SEQ.CURRVAL
			FROM	PACK
		</getLatesPackId>
		<uploadPackImgFile>
			UPDATE PACK
			SET    SHARE_IMAGE_NAME     = ?
			       , SHARE_IMAGE_LOCATION = ?
			WHERE  PACK_ID              = ?
		</uploadPackImgFile>
		<deletePack>
			DELETE	
			FROM	PACK
			WHERE	PACK_ID=?
		</deletePack>
		<getPlaceListByPackId>
			SELECT  P.PLACE_ID
			        , PLACE_NAME
			        , LATITUDE
			        , LONGITUDE
			        , ADDRESS
			        , VIEW_COUNT
			        , LIKE_COUNT
			        , DESCRIPTION
			        , IS_NEW_PLACE
			        , P.COUNTRY_ID
			        , COUNTRY_NAME
			        ,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 3
			                                        )
			            ) AVG_ACTIVE_SCORE
			        ,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 1
			                                        )
			            ) AVG_BRIGHT_SCORE
			        ,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 2
			                                        )
			            ) AVG_HIGH_PRICE_SCORE
			        ,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 4
			                                        )
			            ) AVG_ARTIFICIAL_NATURAL_SCORE
			FROM    PACK_PLACE PP
			        , PLACE P
			        , COUNTRY C
			WHERE   PP.PLACE_ID = P.PLACE_ID
			AND		P.COUNTRY_ID = C.COUNTRY_ID
			AND     PP.PACK_ID = ?
		</getPlaceListByPackId>
		<deletePlaceOfPack>
			DELETE	
			FROM	PACK_PLACE
			WHERE	PLACE_ID=?
			AND		PACK_ID=?
		</deletePlaceOfPack>
		<modifyPack>
			UPDATE PACK
			SET		PACK_TITLE          = ?
					, IS_PUBLIC			= ?
			WHERE	PACK_ID             = ?
		</modifyPack>
		
		<getAddMyPackByPlace>
			INSERT INTO PACK_PLACE (
   										PACK_PLACE_ID
   										, PACK_ID
   										, PLACE_ID
   									) 
			VALUES 					( 
										PACK_PLACE_ID_SEQ.NEXTVAL
										,?
										,? 
									)
		</getAddMyPackByPlace>
		<getMyPackCheckPlaceId>
			SELECT 	PLACE_ID
			FROM 	PACK_PLACE
			WHERE 	PACK_ID = ?
		</getMyPackCheckPlaceId>
		<getCreateMyPackByPackTitle>
			INSERT INTO PACK 	(
   									PACK_ID
   									, PACK_TITLE
   									, EMAIL
   								) 
			VALUES 				( 
									PACK_ID_SEQ.NEXTVAL
									, ?
									, ? 
								)
		</getCreateMyPackByPackTitle>
	</pack>
	
	<sharePack>
	
		<hitCountPack>
			UPDATE	PACK
			SET		VIEW_COUNT = VIEW_COUNT + 1
			WHERE	PACK_ID = ?
		</hitCountPack>
	
		<getAllPackageCountByHashTag>
			SELECT  COUNT(DISTINCT P.PACK_ID)
			FROM    PACK P
					, HASH_TAG H
			WHERE	P.PACK_ID = H.PACK_ID
			AND		IS_PUBLIC = 1
			AND		HASH_TAG_NAME LIKE '%' || ? || '%'
		</getAllPackageCountByHashTag>

		<getAllPackageListByHashTag>
	         SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  DISTINCT P.PACK_ID
			                     		 , PACK_TITLE
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PACK_LIKE_ID)
                                                FROM    PACK_LIKE
                                                WHERE   PACK_ID = P.PACK_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
			                             , SHARE_IMAGE_NAME
			                     FROM    PACK P
			                             , MEMBER M
			                             , HASH_TAG H
			                     WHERE   IS_PUBLIC = 1
			                     AND	 P.PACK_ID = H.PACK_ID
			                     AND	 P.EMAIL = M.EMAIL(+)
			                     AND	 HASH_TAG_NAME LIKE '%' || ? || '%'
			                     ORDER   BY LIKE_COUNT DESC
			                     		 , VIEW_COUNT DESC   
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ?      
        </getAllPackageListByHashTag>	

		<getAllPackageListByHashTagOrderByView>
	         SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  DISTINCT P.PACK_ID
			                     		 , PACK_TITLE
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PACK_LIKE_ID)
                                                FROM    PACK_LIKE
                                                WHERE   PACK_ID = P.PACK_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
			                             , SHARE_IMAGE_NAME
			                     FROM    PACK P
			                             , MEMBER M
			                             , HASH_TAG H
			                     WHERE   IS_PUBLIC = 1
			                     AND	 P.PACK_ID = H.PACK_ID
			                     AND	 P.EMAIL = M.EMAIL(+)
			                     AND	 HASH_TAG_NAME LIKE '%' || ? || '%'
			                     ORDER   BY VIEW_COUNT DESC
			                     		 , LIKE_COUNT DESC   
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ?      
        </getAllPackageListByHashTagOrderByView>	
        	
		<getAllPackageListByHashTagOrderByDate>
	         SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  DISTINCT P.PACK_ID
			                     		 , PACK_TITLE
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PACK_LIKE_ID)
                                                FROM    PACK_LIKE
                                                WHERE   PACK_ID = P.PACK_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
			                             , SHARE_IMAGE_NAME
			                     FROM    PACK P
			                             , MEMBER M
			                             , HASH_TAG H
			                     WHERE   IS_PUBLIC = 1
			                     AND	 P.PACK_ID = H.PACK_ID
			                     AND	 P.EMAIL = M.EMAIL(+)
			                     AND	 HASH_TAG_NAME LIKE '%' || ? || '%'
			                     ORDER   BY P.PACK_ID DESC   
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ?      
        </getAllPackageListByHashTagOrderByDate>		
        
        <getAllPackageListCount>
			SELECT  COUNT(PACK_ID)
			FROM    PACK
			WHERE	IS_PUBLIC = 1			
        </getAllPackageListCount>
        
        <getAllPackageList>
	         SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  P.PACK_ID
			                     		 , PACK_TITLE
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PACK_LIKE_ID)
                                                FROM    PACK_LIKE
                                                WHERE   PACK_ID = P.PACK_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
			                             , SHARE_IMAGE_NAME
			                     FROM    PACK P
			                             , MEMBER M
			                     WHERE   IS_PUBLIC = 1
			                     AND	 P.EMAIL = M.EMAIL(+)
			                     ORDER   BY LIKE_COUNT DESC   
			                     		 , VIEW_COUNT DESC   			                     
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ?          
        </getAllPackageList>
        
        <getAllPackageListOrderByView>
	         SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  P.PACK_ID
			                     		 , PACK_TITLE
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PACK_LIKE_ID)
                                                FROM    PACK_LIKE
                                                WHERE   PACK_ID = P.PACK_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
			                             , SHARE_IMAGE_NAME
			                     FROM    PACK P
			                             , MEMBER M
			                     WHERE   IS_PUBLIC = 1
			                     AND	 P.EMAIL = M.EMAIL(+)
			                     ORDER   BY VIEW_COUNT DESC   
			                     		 , LIKE_COUNT DESC   			                     
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ?               
        </getAllPackageListOrderByView>
        
        <getAllPackageListOrderByDate>
	         SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  P.PACK_ID
			                     		 , PACK_TITLE
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PACK_LIKE_ID)
                                                FROM    PACK_LIKE
                                                WHERE   PACK_ID = P.PACK_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
			                             , SHARE_IMAGE_NAME
			                     FROM    PACK P
			                             , MEMBER M
			                     WHERE   IS_PUBLIC = 1
			                     AND	 P.EMAIL = M.EMAIL(+)
			                     ORDER   BY PACK_ID DESC   
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ?          
        </getAllPackageListOrderByDate>
        
	</sharePack>
	
	<hashtag>
	
		<deleteAllHashTagByPackId>
         DELETE
         FROM   HASH_TAG
         WHERE   PACK_ID = ?
     	</deleteAllHashTagByPackId>
		
		<getHashTagOfPackage>
			SELECT	HASH_TAG_ID
					, HASH_TAG_NAME
			FROM	HASH_TAG H
					, PACK P
			WHERE	P.PACK_ID = H.PACK_ID
			AND		H.PACK_ID = ?
		</getHashTagOfPackage>
		
		<addHashTagInPack>
			INSERT INTO HASH_TAG (
			                        HASH_TAG_ID
			                        , PACK_ID
			                        , HASH_TAG_NAME
			                     ) 
			VALUES               ( HASH_TAG_ID_SEQ.NEXTVAL
			                        ,?
			                        ,?
			                     )
		</addHashTagInPack>
	
	</hashtag>
	
	<packLike>
	
		<selectPackLikeCount>
			SELECT	COUNT(PACK_ID)
			FROM	PACK_LIKE
			WHERE	PACK_ID = ?
			AND		EMAIL = ?
		</selectPackLikeCount>
		
		<insertPackLike>
			INSERT INTO PACK_LIKE	(
									PACK_LIKE_ID
									, PACK_ID
									, EMAIL
								) 
			VALUES 				( 
									PACK_LIKE_ID_SEQ.NEXTVAL
									, ?
									, ?
								)
		</insertPackLike>
		
		<deletePackLike>
			DELETE
			FROM	PACK_LIKE
			WHERE	PACK_ID = ?
			AND		EMAIL = ?
		</deletePackLike>		
		
		<countPackLike>
            SELECT  COUNT(PACK_LIKE_ID)
            FROM    PACK_LIKE
            WHERE   PACK_ID = ?
		</countPackLike>
	
	</packLike>
	
	<packReply>
	
		<insertPackReply>
			INSERT INTO PACK_REPLY (
									   PACK_REPLY_ID
									   , PACK_ID
									   , EMAIL
									   , DESCRIPTION
									   , CRT_DT
									   , GROUP_ID
									   , PARENT_REPLY_ID
									   , DEPTH
									   , ORDER_NO
									) 
			VALUES 					( 
										PACK_REPLY_ID_SEQ.NEXTVAL
										, ?
										, ?
										, ?
										, SYSDATE
										, PACK_REPLY_ID_SEQ.CURRVAL
										, 0
										, 0
										, 0
									)
		</insertPackReply>
		
		<getPackReplyListByPackId>
			SELECT	PACK_REPLY_ID
					, PACK_ID
					, NAME
					, M.EMAIL
					, DESCRIPTION
					, CRT_DT
					, GROUP_ID
					, PARENT_REPLY_ID
					, DEPTH
					, ORDER_NO
			FROM	PACK_REPLY PR
					, MEMBER M
			WHERE	PR.EMAIL = M.EMAIL
			AND		PR.PACK_ID = ?
			ORDER	BY GROUP_ID
					, ORDER_NO
		</getPackReplyListByPackId>
		
		<selectCountParentReplyId>
			SELECT	COUNT(PACK_REPLY_ID)
			FROM	PACK_REPLY
			WHERE	PARENT_REPLY_ID = ?
		</selectCountParentReplyId>
		
		<selectMaxOrderNoByParentReplyId>
       	    SELECT	MAX(ORDER_NO)
       		FROM	PACK_REPLY
         	START   WITH PACK_REPLY_ID = ?
         	CONNECT BY PRIOR PACK_REPLY_ID = PARENT_REPLY_ID
         	ORDER   BY ORDER_NO DESC
		</selectMaxOrderNoByParentReplyId>
		
		<selectLatestOrderNoByParentReplyId>
			SELECT	ORDER_NO
			FROM	PACK_REPLY
			WHERE	PACK_REPLY_ID = ?
		</selectLatestOrderNoByParentReplyId>

		<updateOrderNoByGroupId>
			UPDATE	PACK_REPLY
			SET		ORDER_NO = ORDER_NO + 1
			WHERE	ORDER_NO >= ?
			AND		GROUP_ID = ?
		</updateOrderNoByGroupId>		
		
		<insertReReply>
			INSERT INTO PACK_REPLY	(
									   PACK_REPLY_ID
									   , PACK_ID
									   , EMAIL
									   , DESCRIPTION
									   , CRT_DT
									   , GROUP_ID
									   , PARENT_REPLY_ID
									   , DEPTH
									   , ORDER_NO									   
									) 
				VALUES 				( 
										PACK_REPLY_ID_SEQ.NEXTVAL
										, ?
										, ?
										, ?
										, SYSDATE
										, ?
										, ?
										, ?
										, ?					
									)
		</insertReReply>
		
		<deletePackReply>
			DELETE
			FROM	PACK_REPLY
			WHERE	PACK_REPLY_ID = ?
		</deletePackReply>
		
	</packReply>
	
	<place>
		<getPlaceListByPackId>
			SELECT	*
			FROM	PLACE P
					, PACK_PLACE PACKPLACE
			WHERE	PACKPLACE.PACK_ID = ?
			AND		PACKPLACE.PLACE_ID = P.PLACE_ID
		</getPlaceListByPackId>
		<getPlaceListByCountryId>
			SELECT  P1.PLACE_ID
			        , PLACE_NAME
			        , LATITUDE
			        , LONGITUDE
			        , ADDRESS
			        , VIEW_COUNT
			        , DESCRIPTION
			        , IS_NEW_PLACE
			        , COUNTRY_ID
			        ,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P1.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 3
			                                        )
			            ) AVG_ACTIVE_SCORE
			        ,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P1.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 1
			                                        )
			            ) AVG_BRIGHT_SCORE
			        ,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P1.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 2
			                                        )
			            ) AVG_HIGH_PRICE_SCORE
					,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P1.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 4
			                                        )
			            ) AVG_ARTIFICIAL_NATURAL_SCORE
			FROM	PLACE P1
			WHERE	COUNTRY_ID = ?
		</getPlaceListByCountryId>
		<getPlaceByCountryName>
			SELECT	PLACE_ID
					, PLACE_NAME
					, LATITUDE
					, LONGITUDE
					, ADDRESS
					, VIEW_COUNT
					, DESCRIPTION
					, IS_NEW_PLACE
			FROM	PLACE
			WHERE	COUNTRY_NAME = ?
		</getPlaceByCountryName>
		
		<getPlaceInPackage>
			SELECT	P.PLACE_ID
					, PLACE_NAME
					, ADDRESS
					, LIKE_COUNT
			FROM	PLACE P
					, PACK_PLACE PACKPLACE
			WHERE	PACKPLACE.PACK_ID = ?
			AND		PACKPLACE.PLACE_ID = P.PLACE_ID
		</getPlaceInPackage>
		
		<getAllPlaceCount>
			SELECT  COUNT(PLACE_ID)
			FROM    PLACE
		</getAllPlaceCount>

		<getAllPlaceList>
	         SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  DISTINCT P.PLACE_ID
			                     		 , PLACE_NAME
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PLACE_LIKE_ID)
                                                FROM    PLACE_LIKE
                                                WHERE   PLACE_ID = P.PLACE_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
										 , (
										    SELECT IMAGE_NAME
										    FROM   IMAGE I
										    WHERE P.PLACE_ID = I.PLACE_ID
										    AND  ROWNUM = 1
										   ) IMAGE_NAME
			                     FROM    PLACE P
			                             , MEMBER M
			                             , IMAGE I
			                     WHERE   P.EMAIL = M.EMAIL(+)
								 AND	 P.PLACE_ID = I.PLACE_ID(+)
			                     ORDER   BY LIKE_COUNT DESC   
			                     		 , VIEW_COUNT DESC   			                     
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ? 
		</getAllPlaceList>
		
		<getAllPlaceListOrderByView>
			 SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  DISTINCT P.PLACE_ID
			                     		 , PLACE_NAME
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PLACE_LIKE_ID)
                                                FROM    PLACE_LIKE
                                                WHERE   PLACE_ID = P.PLACE_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
                      			         , (
					                         SELECT IMAGE_NAME
					                         FROM   IMAGE I
					                         WHERE P.PLACE_ID = I.PLACE_ID
					                         AND  ROWNUM = 1
					                       ) IMAGE_NAME
			                     FROM    PLACE P
			                             , MEMBER M
			                             , IMAGE I 
			                     WHERE   P.EMAIL = M.EMAIL(+)
			                     AND	 P.PLACE_ID = I.PLACE_ID(+)
			                     ORDER   BY VIEW_COUNT DESC   
			                     		 , LIKE_COUNT DESC   			                     
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ? 
		
		</getAllPlaceListOrderByView>
		
		<getAllPlaceListOrderByDate>
	         SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  DISTINCT P.PLACE_ID
			                     		 , PLACE_NAME
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PLACE_LIKE_ID)
                                                FROM    PLACE_LIKE
                                                WHERE   PLACE_ID = P.PLACE_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
			                             , (
					                         SELECT IMAGE_NAME
					                         FROM   IMAGE I
					                         WHERE P.PLACE_ID = I.PLACE_ID
					                         AND  ROWNUM = 1
					                       ) IMAGE_NAME
			                     FROM    PLACE P
			                             , MEMBER M
			                             , IMAGE I
			                     WHERE   P.EMAIL = M.EMAIL(+)
			                     AND	 P.PLACE_ID = I.PLACE_ID(+)
			                     ORDER   BY P.PLACE_ID DESC   
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ? 		
		</getAllPlaceListOrderByDate>
		
		<getPlaceCountByPlaceName>
			SELECT  COUNT(PLACE_ID)
			FROM    PLACE
			WHERE	PLACE_NAME LIKE '%' || ? || '%'
		</getPlaceCountByPlaceName>

		<getPlaceListByPlaceName>
	         SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  DISTINCT P.PLACE_ID
			                     		 , PLACE_NAME
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PLACE_LIKE_ID)
                                                FROM    PLACE_LIKE
                                                WHERE   PLACE_ID = P.PLACE_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
			                             , (
					                         SELECT IMAGE_NAME
					                         FROM   IMAGE I
					                         WHERE P.PLACE_ID = I.PLACE_ID
					                         AND  ROWNUM = 1
					                       ) IMAGE_NAME
			                     FROM    PLACE P
			                             , MEMBER M
			                             , IMAGE I
			                     WHERE   P.EMAIL = M.EMAIL(+)
								 AND	 P.PLACE_ID = I.PLACE_ID(+)
			                     AND	 PLACE_NAME LIKE '%' || ? || '%'
			                     ORDER   BY LIKE_COUNT DESC   
			                     		 , VIEW_COUNT DESC   			                     
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ? 
		</getPlaceListByPlaceName>
		
		<getPlaceListByPlaceNameOrderByView>
			 SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  DISTINCT P.PLACE_ID
			                     		 , PLACE_NAME
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PLACE_LIKE_ID)
                                                FROM    PLACE_LIKE
                                                WHERE   PLACE_ID = P.PLACE_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
			                             , (
					                         SELECT IMAGE_NAME
					                         FROM   IMAGE I
					                         WHERE P.PLACE_ID = I.PLACE_ID
					                         AND  ROWNUM = 1
					                       ) IMAGE_NAME
			                     FROM    PLACE P
			                             , MEMBER M
			                             , IMAGE I 
			                     WHERE   P.EMAIL = M.EMAIL(+)
			                     AND	 P.PLACE_ID = I.PLACE_ID(+)
			                     AND	 PLACE_NAME LIKE '%' || ? || '%'
			                     ORDER   BY VIEW_COUNT DESC   
			                     		 , LIKE_COUNT DESC   			                     
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ? 
		</getPlaceListByPlaceNameOrderByView>
		
		<getPlaceListByPlaceNameOrderByDate>
	         SELECT	*
	         FROM   (
		               SELECT  ROWNUM AS RNUM
		                     , A.*
		               FROM    (
			                     SELECT  DISTINCT P.PLACE_ID
			                     		 , PLACE_NAME
			                             , VIEW_COUNT
			                             , (
                                                SELECT  COUNT(PLACE_LIKE_ID)
                                                FROM    PLACE_LIKE
                                                WHERE   PLACE_ID = P.PLACE_ID
                                            ) LIKE_COUNT			                             
			                             , M.NAME
			                             , (
					                         SELECT IMAGE_NAME
					                         FROM   IMAGE I
					                         WHERE P.PLACE_ID = I.PLACE_ID
					                         AND  ROWNUM = 1
					                       ) IMAGE_NAME
			                     FROM    PLACE P
			                             , MEMBER M
			                             , IMAGE I
			                     WHERE   P.EMAIL = M.EMAIL(+)
			                     AND	 P.PLACE_ID = I.PLACE_ID(+)
			                     AND	 PLACE_NAME LIKE '%' || ? || '%'
			                     ORDER   BY P.PLACE_ID DESC   
		                     ) A
		               WHERE   ROWNUM &lt;= ?   
	                )
		      WHERE RNUM >= ? 		
		</getPlaceListByPlaceNameOrderByDate>
		
		<getPlaceListByDaily>
			 SELECT DISTINCT P.PLACE_ID
			        , P.PLACE_NAME
			        , P.ADDRESS
			        , P.VIEW_COUNT
			        ,   (
			                SELECT  COUNT(PLACE_LIKE_ID)
			                FROM    PLACE_LIKE
			                WHERE   PLACE_ID = P.PLACE_ID
			            ) LIKE_COUNT	
			        ,   (
                            SELECT COUNT(PLACE_LIKE_ID) LIKE_C
                            FROM    PLACE_LIKE
                            WHERE   PLACE_LIKE_CRT_DT >= ( SYSDATE - 1 )
                            AND     PLACE_ID = P.PLACE_ID
                            GROUP   BY PLACE_ID
                         ) DAILY_LIKE				                    
			        , P.DESCRIPTION
			        , (
                         SELECT IMAGE_NAME
                         FROM   IMAGE I
                         WHERE P.PLACE_ID = I.PLACE_ID
                         AND  ROWNUM = 1
                       ) IMAGE_NAME
			 FROM   PLACE P
			 		, IMAGE I
			 WHERE  P.PLACE_ID IN  (
			                            SELECT  PLACE_ID
			                            FROM    (
			                                        SELECT PLACE_ID
			                                               , COUNT(PLACE_LIKE_ID) LIKE_C
			                                        FROM    PLACE_LIKE
			                                        WHERE   PLACE_LIKE_CRT_DT >= ( SYSDATE - 1 )
			                                        GROUP   BY PLACE_ID
			                                        ORDER   BY LIKE_C DESC
			                                    )
			                            WHERE   ROWNUM &lt;= 4
			                        )	
			 AND	P.PLACE_ID = I.PLACE_ID(+) 
			ORDER	BY DAILY_LIKE DESC                     	
		</getPlaceListByDaily>
		
		<getPlaceListByWeekly>
			 SELECT DISTINCT P.PLACE_ID
			        , P.PLACE_NAME
			        , P.ADDRESS
			        , P.VIEW_COUNT
			        ,   (
			                SELECT  COUNT(PLACE_LIKE_ID)
			                FROM    PLACE_LIKE
			                WHERE   PLACE_ID = P.PLACE_ID
			            ) LIKE_COUNT
			        ,   (
                            SELECT COUNT(PLACE_LIKE_ID) LIKE_C
                            FROM    PLACE_LIKE
                            WHERE   PLACE_LIKE_CRT_DT >= ( SYSDATE - 7 )
                            AND     PLACE_ID = P.PLACE_ID
                            GROUP   BY PLACE_ID
                         ) WEEKLY_LIKE	        			            	        
			        , P.DESCRIPTION
			        , (
                         SELECT IMAGE_NAME
                         FROM   IMAGE I
                         WHERE P.PLACE_ID = I.PLACE_ID
                         AND  ROWNUM = 1
                       ) IMAGE_NAME
			 FROM   PLACE P
			 		, IMAGE I
			 WHERE  P.PLACE_ID IN  (
			                            SELECT  PLACE_ID
			                            FROM    (
			                                        SELECT PLACE_ID
			                                               , COUNT(PLACE_LIKE_ID) LIKE_C
			                                        FROM    PLACE_LIKE
			                                        WHERE   PLACE_LIKE_CRT_DT >= ( SYSDATE - 7 )
			                                        GROUP   BY PLACE_ID
			                                        ORDER   BY LIKE_C DESC
			                                    )
			                            WHERE   ROWNUM &lt;= 4
			                        )	
			 AND	P.PLACE_ID = I.PLACE_ID(+)  			                        
			 ORDER	BY WEEKLY_LIKE DESC   			                        
		</getPlaceListByWeekly>
		
		<getPlaceListByMonthly>
			 SELECT DISTINCT P.PLACE_ID
			        , P.PLACE_NAME
			        , P.ADDRESS
			        , P.VIEW_COUNT
			        ,   (
			                SELECT  COUNT(PLACE_LIKE_ID)
			                FROM    PLACE_LIKE
			                WHERE   PLACE_ID = P.PLACE_ID
			            ) LIKE_COUNT	
			        ,   (
                            SELECT COUNT(PLACE_LIKE_ID) LIKE_C
                            FROM    PLACE_LIKE
                            WHERE   PLACE_LIKE_CRT_DT >= ( SYSDATE - 30 )
                            AND     PLACE_ID = P.PLACE_ID
                            GROUP   BY PLACE_ID
                         ) MONTHLY_LIKE	        
			        , P.DESCRIPTION
			        , (
                         SELECT IMAGE_NAME
                         FROM   IMAGE I
                         WHERE P.PLACE_ID = I.PLACE_ID
                         AND  ROWNUM = 1
                       ) IMAGE_NAME
			 FROM   PLACE P
			 		, IMAGE I
			 WHERE  P.PLACE_ID IN  (
			                            SELECT  PLACE_ID
			                            FROM    (
			                                        SELECT PLACE_ID
			                                               , COUNT(PLACE_LIKE_ID) LIKE_C
			                                        FROM    PLACE_LIKE
			                                        WHERE   PLACE_LIKE_CRT_DT >= ( SYSDATE - 30 )
			                                        GROUP   BY PLACE_ID
			                                        ORDER   BY LIKE_C DESC
			                                    )
			                            WHERE   ROWNUM &lt;= 4
			                        )	
			 AND	P.PLACE_ID = I.PLACE_ID(+)	  			                        
			 ORDER	BY MONTHLY_LIKE DESC  			                        
		</getPlaceListByMonthly>
		
		<getPlaceByCountryName>
			SELECT	PLACE_ID
					, PLACE_NAME
					, LATITUDE
					, LONGITUDE
					, ADDRESS
					, VIEW_COUNT
					, DESCRIPTION
					, IS_NEW_PLACE
			FROM	PLACE
			WHERE	COUNTRY_NAME = ?
		</getPlaceByCountryName>
		<getPlaceInPackage>
			SELECT	P.PLACE_ID
					, PLACE_NAME
					, ADDRESS
					, LIKE_COUNT
			FROM	PLACE P
					, PACK_PLACE PACKPLACE
			WHERE	PACKPLACE.PACK_ID = ?
			AND		PACKPLACE.PLACE_ID = P.PLACE_ID
		</getPlaceInPackage>
		
		<getUserRecommendPlaceList>
			SELECT  P.PLACE_ID
					, PLACE_NAME
					, LATITUDE
					, LONGITUDE
					, ADDRESS
					, VIEW_COUNT
                    , (
                        SELECT  COUNT(PLACE_LIKE_ID)
                        FROM    PLACE_LIKE
                        WHERE   PLACE_ID = P.PLACE_ID
                      ) LIKE_COUNT					
					, DESCRIPTION
					, (
					    SELECT IMAGE_NAME
					    FROM   IMAGE I
					    WHERE P.PLACE_ID = I.PLACE_ID
					    AND  ROWNUM = 1
					   ) IMAGE_NAME					
			FROM    PLACE P
					, IMAGE I
			WHERE	P.EMAIL = ?
			AND		P.PLACE_ID = I.PLACE_ID(+)
		</getUserRecommendPlaceList>
		
		<insertPlaceInfo>
			INSERT	INTO	PLACE	(
											PLACE_ID
											, PLACE_NAME
											, ADDRESS
											, LATITUDE
											, LONGITUDE
											, COUNTRY_ID
											, DESCRIPTION
											, EMAIL
										)
			VALUES						(
											PLACE_ID_SEQ.NEXTVAL
											, ?
											, ?
											, ?
											, ?
											, ?
											, ?
											, ?
										)
		</insertPlaceInfo>
		
		<getReturnPlaceId>
			SELECT	PLACE_ID_SEQ.CURRVAL
			FROM	DUAL
		</getReturnPlaceId>
		
		<viewCountRecommendPlace>
			UPDATE  PLACE
			SET     VIEW_COUNT = ( VIEW_COUNT + 1 )
			WHERE   PLACE_ID = ?
		</viewCountRecommendPlace>
		
		<addTempSelectedPlaceByPlaceId>
			SELECT	P.PLACE_ID
					, PLACE_NAME
					, LATITUDE
					, LONGITUDE
					, ADDRESS
					, VIEW_COUNT
					, LIKE_COUNT
					, DESCRIPTION
					, IS_NEW_PLACE
					, EMAIL
					, C.COUNTRY_ID
					, COUNTRY_NAME
					
			FROM 	PLACE P
					, COUNTRY C
					, IMAGE I
			WHERE	P.COUNTRY_ID = C.COUNTRY_ID
			AND		PLACE_ID = ?
		</addTempSelectedPlaceByPlaceId>
		
		<getDetailPlaceInfo>
			SELECT	P.PLACE_ID
					, PLACE_NAME
					, LATITUDE
					, LONGITUDE
					, ADDRESS
					, VIEW_COUNT
                    , (
                        SELECT  COUNT(PLACE_LIKE_ID)
                        FROM    PLACE_LIKE
                        WHERE   PLACE_ID = P.PLACE_ID
                      ) LIKE_COUNT
					, DESCRIPTION
					, M.EMAIL
					, NAME
					, COUNTRY_NAME
			        ,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 3
			                                        )
			            ) AVG_ACTIVE_SCORE
			        ,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 1
			                                        )
			            ) AVG_BRIGHT_SCORE
			        ,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 2
			                                        )
			            ) AVG_HIGH_PRICE_SCORE					
			        ,   (
			                SELECT  AVG(E.SCORE)
			                FROM    EVALUATION E
			                WHERE   P.PLACE_ID = E.PLACE_ID
			                AND     STANDARD_ID =   (
			                                            SELECT  STANDARD_ID
			                                            FROM    STANDARD
			                                            WHERE   STANDARD_ID = 4
			                                        )
			            ) AVG_ARTIFICIAL_NATURAL_SCORE		
			FROM	PLACE P
					, MEMBER M
					, COUNTRY C
			WHERE	P.PLACE_ID = ?
			AND		P.EMAIL = M.EMAIL
			AND		P.COUNTRY_ID = C.COUNTRY_ID(+)
		</getDetailPlaceInfo>
		<getCountryList>
			SELECT	COUNTRY_ID
					, COUNTRY_NAME
            FROM    COUNTRY
            ORDER BY COUNTRY_NAME ASC
		</getCountryList>
	</place>
	
	<placeLike>
		
		<getPlaceLikeCountByPlaceId>
			SELECT	COUNT(PLACE_LIKE_ID)
			FROM	PLACE_LIKE
			WHERE	PLACE_ID = ?
		</getPlaceLikeCountByPlaceId>
		
		<selectPlaceLikeCount>
			SELECT	COUNT(PLACE_ID)
			FROM	PLACE_LIKE
			WHERE	PLACE_ID = ?
			AND		EMAIL = ?
		</selectPlaceLikeCount>
		
		<insertPlaceLike>
			INSERT INTO PLACE_LIKE	(
									PLACE_LIKE_ID
									, PLACE_ID
									, EMAIL
									, PLACE_LIKE_CRT_DT
								) 
			VALUES 				( 
									PLACE_LIKE_ID_SEQ.NEXTVAL
									, ?
									, ?
									, SYSDATE
								)
		</insertPlaceLike>
		
		<deletePlaceLike>
			DELETE
			FROM	PLACE_LIKE
			WHERE	PLACE_ID = ?
			AND		EMAIL = ?
		</deletePlaceLike>	
			
		<countPlaceLike>
            SELECT  COUNT(PLACE_LIKE_ID)
            FROM    PLACE_LIKE
            WHERE   PLACE_ID = ?
		</countPlaceLike>
		
	</placeLike>
	
	<placeReply>
	
			<insertPlaceReply>
				INSERT INTO PLACE_REPLY (
										   PLACE_REPLY_ID
										   , PLACE_ID
										   , EMAIL
										   , DESCRIPTION
										   , CRT_DT
										   , GROUP_ID
										   , PARENT_REPLY_ID
										   , DEPTH
										   , ORDER_NO
										) 
				VALUES 					( 
											PLACE_REPLY_ID_SEQ.NEXTVAL
											, ?
											, ?
											, ?
											, SYSDATE
											, PLACE_REPLY_ID_SEQ.CURRVAL
											, 0
											, 0
											, 0
										)
		</insertPlaceReply>
		
		<insertPlaceReReply>
			INSERT INTO PLACE_REPLY	(
									   PLACE_REPLY_ID
									   , PLACE_ID
									   , EMAIL
									   , DESCRIPTION
									   , CRT_DT
									   , GROUP_ID
									   , PARENT_REPLY_ID
									   , DEPTH
									   , ORDER_NO									   
									) 
				VALUES 				( 
										PLACE_REPLY_ID_SEQ.NEXTVAL
										, ?
										, ?
										, ?
										, SYSDATE
										, ?
										, ?
										, ?
										, ?					
									)
		</insertPlaceReReply>
		
		<getReplyListByplaceId>
			SELECT	PLACE_REPLY_ID
					, PLACE_ID
					, M.EMAIL
					, M.NAME
					, DESCRIPTION
					, CRT_DT
					, GROUP_ID
					, PARENT_REPLY_ID
					, DEPTH
					, ORDER_NO
			FROM	PLACE_REPLY PR
					, MEMBER M
			WHERE	PR.EMAIL = M.EMAIL
			AND		PR.PLACE_ID = ?
			ORDER	BY GROUP_ID
					, ORDER_NO
		</getReplyListByplaceId>
		
		<selectPlaceCountParentReplyId>
			SELECT	COUNT(PLACE_REPLY_ID)
			FROM	PLACE_REPLY
			WHERE	PARENT_REPLY_ID = ?
		</selectPlaceCountParentReplyId>
		
		<selectPlaceMaxOrderNoByParentReplyId>
       	    SELECT	MAX(ORDER_NO)
       		FROM	PLACE_REPLY
         	START   WITH PLACE_REPLY_ID = ?
         	CONNECT BY PRIOR PLACE_REPLY_ID = PARENT_REPLY_ID
         	ORDER   BY ORDER_NO DESC
		</selectPlaceMaxOrderNoByParentReplyId>
		
		<selectLatestOrderNoByParentReplyId>
			SELECT	ORDER_NO
			FROM	PLACE_REPLY
			WHERE	PLACE_REPLY_ID = ?
		</selectLatestOrderNoByParentReplyId>
		
		<updateOrderNoByGroupId>
			UPDATE	PACK_REPLY
			SET		ORDER_NO = ORDER_NO + 1
			WHERE	ORDER_NO >= ?
			AND		GROUP_ID = ?
		</updateOrderNoByGroupId>	
		
		<deletePlaceReply>
			DELETE
			FROM	PLACE_REPLY
			WHERE	PLACE_REPLY_ID = ?
		</deletePlaceReply>
	
	</placeReply>
	
	<qna>
		<getFAQList>
			SELECT	QNA_ID
					,EMAIL
					, QNA_DT
					, TITLE
					, DESCRIPTION
					, IS_FAQ
			FROM 	QNA
			WHERE 	IS_FAQ != 0
		</getFAQList>
	</qna>
	
	<rent>
	</rent>
	
	<reportedMember>
	</reportedMember>
	
	<reserve>
		<addNewReserve>
			INSERT INTO RESERVE (
   									RESERVE_ID
   									, PACK_ID
   									, DEPARTURE_NAME
   									, PERSON_COUNT
   									, DEPART_DT
   									, ARRIVE_DT
   								) 
			VALUES 				( 
									RESERVE_ID_SEQ.NEXTVAL
									, ?
									, ?
									, ?
									, ?
									, ? 
								)
		</addNewReserve>
		<getReserveId>
			SELECT RESERVE_ID_SEQ.CURRVAL
			FROM DUAL
		</getReserveId>
		<addNewReserveTransport>
			INSERT INTO TRANSPORT 	(
   										TRANSPORT_ID
   										, TRANSPORT_CLASS
   									) 
			VALUES 					( 
										TRANSPORT_ID_SEQ.NEXTVAL
										, ? 
									)
		</addNewReserveTransport>
		<getTransportId>
			SELECT TRANSPORT_ID_SEQ.CURRVAL
			FROM DUAL
		</getTransportId>
		<addNewReserveStay>
			INSERT INTO STAY (
			                    STAY_ID
			                    , STAY_TYPE
			                    , STAY_CLASS
			                    , PERSON_COUNT
			                    , CHECK_IN_DT
			                    , CHECK_OUT_DT
			                 ) 
			VALUES          ( 
			                    STAY_ID_SEQ.NEXTVAL
			                    , ?
			                    , ?
			                    , ?
			                    , ?
			                    , ? 
			                )
		</addNewReserveStay>
		<getStayId>
			SELECT STAY_ID_SEQ.CURRVAL
			FROM DUAL
		</getStayId>
		<addNewReserveRent>
			INSERT INTO RENT (
   								RENT_ID
   								, RENT_TYPE
   								, RENT_START_DT
   								, RENT_END_DT
   								, PERSON_COUNT
   							) 
			VALUES 			( 
								RENT_ID_SEQ.NEXTVAL
								, ?
								, ?
								, ?
								, ? 
							)
		</addNewReserveRent>
		<getRentId>
			SELECT RENT_ID_SEQ.CURRVAL
			FROM DUAL
		</getRentId>
		<getReserveTransport>
			INSERT INTO RESERVE_TRANSPORT (
   											RESERVE_TRANSPORT_ID
   											, RESERVE_ID
   											, TRANSPORT_ID
   										   ) 
			VALUES 							( 
											RESERVE_TRANSPORT_ID_SEQ.NEXTVAL
											, ?
											, ? 
											)
		</getReserveTransport>
		<getReserveStay>
			INSERT INTO RESERVE_STAY (
   										RESERVE_STAY_ID
   										, RESERVE_ID
   										, STAY_ID
   									) 
			VALUES 					( 	RESERVE_STAY_ID_SEQ.NEXTVAL
										, ?
										, ?
									)
		</getReserveStay>
		<getReserveRent>
			INSERT INTO RESERVE_RENT (
   										RESERVE_RENT_ID
   										, RESERVE_ID
   										, RENT_ID
   									) 
			VALUES 					( 
										RESERVE_RENT_ID_SEQ.NEXTVAL
										, ?
										, ? 
									)
		</getReserveRent>
		<getReserveInfo>
			SELECT  P.PACK_ID
					, P.PACK_TITLE
        			, RE.RESERVE_ID
        			, DEPARTURE_NAME
        			, PERSON_COUNT
        			, DEPART_DT
        			, ARRIVE_DT
			FROM  	RESERVE RE
     				, PACK P
     				, MEMBER M
					WHERE   RE.PACK_ID = P.PACK_ID
					AND   P.EMAIL = M.EMAIL
					AND   M.EMAIL = ?
		</getReserveInfo>
		<getTransportInfo>
			SELECT  TRANSPORT_CLASS
			FROM TRANSPORT T
			     , RESERVE_TRANSPORT RT
			     , RESERVE RE
			     , PACK P
			     , MEMBER M
			WHERE T.TRANSPORT_ID = RT.TRANSPORT_ID
			AND   RE.RESERVE_ID = RT.RESERVE_ID
			AND   RE.PACK_ID = P.PACK_ID
			AND   P.EMAIL = M.EMAIL
			AND   M.EMAIL = ?
		</getTransportInfo>
		<getStayInfo>
			SELECT  STAY_TYPE
					, STAY_CLASS
					, S.PERSON_COUNT
					, CHECK_IN_DT
					, CHECK_OUT_DT
			FROM STAY S
			     , RESERVE_STAY RS
			     , RESERVE RE
			     , PACK P
			     , MEMBER M
			WHERE S.STAY_ID = RS.STAY_ID
			AND   RE.RESERVE_ID = RS.RESERVE_ID
			AND   RE.PACK_ID = P.PACK_ID
			AND   P.EMAIL = M.EMAIL
			AND   M.EMAIL = ?
		</getStayInfo>
		<getRentInfo>
			SELECT  RENT_TYPE
					, R.PERSON_COUNT
					, RENT_START_DT
					, RENT_END_DT
			FROM RENT R
			     , RESERVE_RENT RR
			     , RESERVE RE
			     , PACK P
			     , MEMBER M
			WHERE R.RENT_ID = RR.RENT_ID
			AND   RE.RESERVE_ID = RR.RESERVE_ID
			AND   RE.PACK_ID = P.PACK_ID
			AND   P.EMAIL = M.EMAIL
			AND   M.EMAIL = ?
		</getRentInfo>
	</reserve>
	
	<selectedCountry>
	</selectedCountry>
	
	<standard>
	</standard>
	
	<stay>
	</stay>
	
	<transport>
	</transport>
	
	<reportedPlace>
		
		<setReportPlace>
			INSERT INTO	REPORTED_PLACE	(
											REPORT_ID
											, EMAIL
											, PLACE_ID
											, REPORT_DT
											, CATEGORY
											, DESCRIPTION
										)
			VALUES						(
											REPORT_ID_SEQ.NEXTVAL
											, ?
											, ?
											, SYSDATE
											, ?
											, ?
										)
		</setReportPlace>
	
	</reportedPlace>
	
</query>

